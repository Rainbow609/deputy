
proxies:
  # clashMetaé…ç½®å‚è€ƒå¯ä»¥çœ‹çœ‹è¿™ä¸ªwiki
  # https://docs.metacubex.one/
  # https://clash-meta.wiki

  - name: "ğŸ‡¨ğŸ‡³åŒ—äº¬ç”µä¿¡"
    server: 220.181.111.189
    type: http
    port: 443
    headers:
      X-T5-Auth: "683556433"
      Host: 153.3.236.22:443
      User-Agent: "okhttp/3.11.0 Dalvik/2.1.0 (Linux; U; Android 13; 2210132C Build/TKQ1.220905.001) baiduboxapp/11.0.5.12 (Baidu; P1 11)"
        
  - name: "ğŸ‡¨ğŸ‡³è‹å·ç”µä¿¡"
    server: 180.97.93.202
    type: http
    port: 443
    headers:
      X-T5-Auth: "683556433"
      Host: 153.3.236.22:443
      User-Agent: "okhttp/3.11.0 Dalvik/2.1.0 (Linux; U; Android 13; 2210132C Build/TKQ1.220905.001) baiduboxapp/11.0.5.12 (Baidu; P1 11)"

  - name: "ğŸ‡¨ğŸ‡³å¹¿å·ç”µä¿¡"
    server: 14.215.179.244
    type: http
    port: 443
    headers:
      X-T5-Auth: "683556433"
      Host: 153.3.236.22:443
      User-Agent: "okhttp/3.11.0 Dalvik/2.1.0 (Linux; U; Android 13; 2210132C Build/TKQ1.220905.001) baiduboxapp/11.0.5.12 (Baidu; P1 11)"

  - name: "ğŸ‡¨ğŸ‡³å—äº¬ç”µä¿¡"
    server: 180.97.104.168
    type: http
    port: 443
    headers:
      X-T5-Auth: "683556433"
      Host: 153.3.236.22:443
      User-Agent: "okhttp/3.11.0 Dalvik/2.1.0 (Linux; U; Android 13; 2210132C Build/TKQ1.220905.001) baiduboxapp/11.0.5.12 (Baidu; P1 11)"

  - name: "BaiduProxyX"
    server: cloudnproxy.baidu.com
    type: http
    port: 443
    headers:
      X-T5-Auth: "683556433"
      Host: 153.3.236.22:443
      User-Agent: "okhttp/3.11.0 Dalvik/2.1.0 (Linux; U; Android 13; 2210132C Build/TKQ1.220905.001) baiduboxapp/11.0.5.12 (Baidu; P1 11)"


  - {"name":"baidu-è‹å·","server":"157.0.148.53","type":"http","port":443,"headers":{"Host":"153.3.236.22:443","X-T5-Auth":683556433}}
  - {"name":"baidu-å—äº¬","server":"153.3.236.22","type":"http","port":443,"headers":{"Host":"153.3.236.22:443","X-T5-Auth":683556433}}
  - {"name":"baidu-ä¿å®š1","server":"110.242.70.68","type":"http","port":443,"headers":{"Host":"153.3.236.22:443","X-T5-Auth":683556433}}
  - {"name":"baidu-ä¿å®š2","server":"110.242.70.69","type":"http","port":443,"headers":{"Host":"153.3.236.22:443","X-T5-Auth":683556433}}
  - {"name":"baidu-æ·±åœ³","server":"14.215.182.75","type":"http","port":443,"headers":{"Host":"153.3.236.22:443","X-T5-Auth":683556433}}

# å®˜æ–¹clashé…ç½®(çº¯è‹±æ–‡)
# https://github.com/Dreamacro/clash/wiki/Configuration#introduction
#é¢„è®¾
p: &p
  type: http
  interval: 1800
  health-check:
    enable: true
    url: http://cp.cloudflare.com/generate_204
    interval: 300

use: &use
  type: select
  use:
    - ç¾¤ä¸»_ä¸‰åˆ†
    - ç¾¤ä¸»_æ˜Ÿé“¾äº‘
    - ç¾¤ä¸»_EF
    - ç¾¤ä¸»_å¿«æ¸¸æˆ
    - ç¾¤ä¸»_å…æµéªš
    - å°å†°_EF
    - å°å†°_ç™½å«–
    - ç«é”…_ä¸‰åˆ†
    - è¾¾è¾¾_ä¸‰åˆ†
    # - å…±äº«_anaer
    - å…±äº«_ermaozi


# ä»£ç†æä¾›(è®¢é˜…)ç»„
#æ·»åŠ /ä¿®æ”¹æœºåœº(å)è¯·ä¿è¯proxy-providersåç§°å’Œproxy-groupsåŒæ­¥æ·»åŠ /ä¿®æ”¹
proxy-providers:
  ç¾¤ä¸»_æ˜Ÿé“¾äº‘:
    <<: *p
    url: "https://proxy-provider-converter-git-main-rainbow609s-projects.vercel.app/api/convert?url=https%3A%2F%2Fstarlinkcloud.org%2Fapi%2Fv1%2Fclient%2Fsubscribe%3Ftoken%3D3244403e59624101e781b9e6b1e954d4&target=clash"
    path: ./proxy_providers/ç¾¤ä¸»_æ˜Ÿé“¾äº‘.yaml

  ç¾¤ä¸»_EF:
    <<: *p
    url: "https://proxy-provider-converter-git-main-rainbow609s-projects.vercel.app/api/convert?url=https%3A%2F%2Fv1.efshop.cc%2Fapi%2Fv1%2Fclient%2Fsubscribe%3Ftoken%3D9d51fb4005748bc6419d07639cb25781&target=clash"
    path: ./proxy_providers/ç¾¤ä¸»_EF.yaml

  ç¾¤ä¸»_å¿«æ¸¸æˆ:
    <<: *p
    # url: "https://sub2.jie-quick.buzz/api/v1/client/subscribe?token=6f51949086b1c27116bb77a5a520d09d&host=m.iqiyi.com"
    url: "https://sub2.jie-quick.buzz/api/v1/client/subscribe?token=6f51949086b1c27116bb77a5a520d09d&sethost=m.iqiyi.com"
    path: ./proxy_providers/ç¾¤ä¸»_å¿«æ¸¸æˆ.yaml

  ç¾¤ä¸»_å…æµéªš:
    <<: *p
    url: "https://api.orangeapi.org/sub?suburl=https%3A%2F%2Fsub.mlsao.top%2Fapi%2Fv1%2Fclient%2Fsubscribe%3Ftoken%3D4c981858904603e85fce6c825c4d6e93&newhost=m.iqiyi.com"
    path: ./proxy_providers/ç¾¤ä¸»_å…æµéªš.yaml

  ç¾¤ä¸»_ä¸‰åˆ†:
    <<: *p
    url: "https://proxy-provider-converter-git-main-rainbow609s-projects.vercel.app/api/convert?url=https%3A%2F%2Fsub.sanfen017.xyz%2Fapi%2Fv1%2Fclient%2Fsubscribe%3Ftoken%3D0b73731d54a0e74695ff0429b4dc2870&target=clash"
    path: ./proxy_providers/ç¾¤ä¸»_ä¸‰åˆ†.yaml

  ç¾¤ä¸»_ä¸‰åˆ†_å…æµ:
    <<: *p
    url: "https://api.orangeapi.org/sub?suburl=https%3A%2F%2Fsub.sanfen017.xyz%2Fapi%2Fv1%2Fclient%2Fsubscribe%3Ftoken%3D0b73731d54a0e74695ff0429b4dc2870&newhost=m.iqiyi.com"
    path: ./proxy_providers/ç¾¤ä¸»_ä¸‰åˆ†.yaml

  å°å†°_EF:
    <<: *p
    url: "https://proxy-provider-converter-git-main-rainbow609s-projects.vercel.app/api/convert?url=https%3A%2F%2Fv1.efshop.cc%2Fapi%2Fv1%2Fclient%2Fsubscribe%3Ftoken%3Dfbfd7afff691851519a1036895689ea0&target=clash"
    path: ./proxy_providers/å°å†°_EF.yaml

  å°å†°_ç™½å«–:
    <<: *p
    url: "https://proxy-provider-converter-git-main-rainbow609s-projects.vercel.app/api/convert?url=https%3A%2F%2Fsub.%E7%99%BD%E5%AB%96%E6%9C%BA%E5%9C%BA.com%2Fapi%2Fv1%2Fclient%2Fsubscribe%3Ftoken%3Df8b23722df1e100e0a23f4bdcbcaefb8&target=clash"
    path: ./proxy_providers/å°å†°_ç™½å«–.yaml

  ç«é”…_ä¸‰åˆ†:
    <<: *p
    url: "https://proxy-provider-converter-git-main-rainbow609s-projects.vercel.app/api/convert?url=https%3A%2F%2Fsub.sanfen017.xyz%2Fapi%2Fv1%2Fclient%2Fsubscribe%3Ftoken%3D1e9b47a85263bbd23ca567903a41f066&target=clash"
    path: ./proxy_providers/ç«é”…_ä¸‰åˆ†.yaml

  è¾¾è¾¾_ä¸‰åˆ†:
    <<: *p
    url: "https://proxy-provider-converter-git-main-rainbow609s-projects.vercel.app/api/convert?url=https%3A%2F%2Fwww.efcloud.bio%2Fapi%2Fv1%2Fclient%2Fsubscribe%3Ftoken%3D9d51fb4005748bc6419d07639cb25781&target=clash"
    path: ./proxy_providers/è¾¾è¾¾_ä¸‰åˆ†.yaml

  # å…±äº«_anaer:
  # # ä¾†è‡ª https://github.com/anaer/Sub
  #   <<: *p
  #   url: "https://www.nite07.com/sub/s/UtrOyH"
  #   path: ./proxy_providers/å…±äº«_anaer.yaml

  å…±äº«_ermaozi:
  # ä¾†è‡ª https://github.com/ermaozi/get_subscribe
    <<: *p
    url: "https://www.nite07.com/sub/s/1X53si"
    path: ./proxy_providers/å…±äº«_ermaozi.yaml

urltest: &urltest
  type: url-test
  # url: "http://www.gstatic.com/generate_204"
  url: "http://www.apple.com/library/test/success.html"  # æ›¿æ¢æˆè‹¹æœçš„æµ‹é€Ÿ
  interval: 180
  tolerance: 100
  <<: *use

lobalance: &lobalance
  type: load-balance
  url: "http://www.apple.com/library/test/success.html"
  interval: 300
  strategy: consistent-hashing
  <<: *use
  # strategy:
  #  consistent-hashing åŒä¸€ä¸ªåŸŸåä¸‹ä¼šæŒç»­ä½¿ç”¨åŒä¸€ä¸ªip, é»˜è®¤é€‰æ‹©è¯¥é¡¹ï¼Œé˜²æ­¢é¢‘ç¹è·³ipè¢«ç½‘ç«™ban
  #  round-robin æ¯è®¿é—®ä¸€ä¸ªé“¾æ¥ï¼Œé¡ºåºæ›´æ¢èŠ‚ç‚¹è®¿é—®

# ä»£ç†ç»„
proxy-groups:
  - name: ä»£ç†è®¾ç½®
    type: select
    proxies:
      - HK urltest
      - HK lobalance
      - é¦™æ¸¯
      - å°æ¹¾
      - æ—¥æœ¬
      - æ–°åŠ å¡
      - ç¾å›½
      - å…¶å®ƒåœ°åŒº
      - ç›´è¿

  - name: å›½å†…åœ°å€ # é»˜è®¤ä¸ä»£ç†ï¼Œç›´è¿
    type: select
    proxies:
      - DIRECT
      - BaiduProxyX
      - baidu-è‹å·
      - baidu-å—äº¬
      - baidu-ä¿å®š1
      - baidu-ä¿å®š2
      - baidu-æ·±åœ³
      - ğŸ‡¨ğŸ‡³åŒ—äº¬ç”µä¿¡
      - ğŸ‡¨ğŸ‡³è‹å·ç”µä¿¡
      - ğŸ‡¨ğŸ‡³å¹¿å·ç”µä¿¡
      - ğŸ‡¨ğŸ‡³å—äº¬ç”µä¿¡


  - {name: HK urltest, <<: *urltest, filter: "(?i)æ¸¯|hk|hongkong|hong kong"}

  - {name: HK lobalance, <<: *lobalance, filter: "(?i)æ¸¯|hk|hongkong|hong kong"}

  - {name: é¦™æ¸¯, <<: *use, filter: "(?i)æ¸¯|hk|hongkong|hong kong"}

  - {name: å°æ¹¾, <<: *use, filter: "(?i)å°|tw|taiwan"}

  - {name: æ—¥æœ¬, <<: *use, filter: "(?i)æ—¥æœ¬|jp|japan"}

  - {name: ç¾å›½, <<: *use, filter: "(?i)ç¾|us|unitedstates|united states"}

  - {name: æ–°åŠ å¡, <<: *use, filter: "(?i)(æ–°|sg|singapore)"}

  - {name: å…¶å®ƒåœ°åŒº, <<: *use, filter: "(?i)^(?!.*(?:ğŸ‡­ğŸ‡°|ğŸ‡¯ğŸ‡µ|ğŸ‡ºğŸ‡¸|ğŸ‡¸ğŸ‡¬|ğŸ‡¨ğŸ‡³|æ¸¯|hk|hongkong|å°|tw|taiwan|æ—¥|jp|japan|æ–°|sg|singapore|ç¾|us|unitedstates)).*"}
  
  - name: ç›´è¿
    type: select
    proxies: 
      - DIRECT
      
rule_update: &rule_update
  type: http
  interval: 86400

# åˆ†æµè§„åˆ™æä¾›(è®¢é˜…)ç»„
rule-providers:
# ç§‹é£å¹¿å‘Šè§„åˆ™Clashç‰ˆæœ¬
# Githubï¼šhttps://github.com/TG-Twilight/AWAvenue-Ads-Rule
# æ­¤ä¸ºåŸŸåæ‹¦æˆªè§„åˆ™ï¼Œè¯·æ ¹æ®å®é™…æƒ…å†µï¼Œè‡ªè¡Œè®¾ç½®ä¸ºREJECT/å¹¿å‘Šæ‹¦æˆªä¹‹ç±»çš„åˆ†ç»„ã€‚
  ç§‹é£å¹¿å‘Šè§„åˆ™:
    type: http
    behavior: domain
    format: yaml
    path: ./rule_providers/AWAvenue-Ads-Rule-Clash.yaml
    url: "https://raw.githubusercontent.com/TG-Twilight/AWAvenue-Ads-Rule/main/Filters/AWAvenue-Ads-Rule-Clash.yaml"
    interval: 60480

  icloud:
    # iCloud åŸŸååˆ—è¡¨
    <<: *rule_update
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/icloud.txt"
    path: ./ruleset/icloud.yaml

  apple:
    # Apple åœ¨ä¸­å›½å¤§é™†å¯ç›´è¿çš„åŸŸååˆ—è¡¨
    <<: *rule_update
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/apple.txt"
    path: ./ruleset/apple.yaml

  google:
    # [æ…ç”¨]Google åœ¨ä¸­å›½å¤§é™†å¯ç›´è¿çš„åŸŸååˆ—è¡¨
    <<: *rule_update
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/google.txt"
    path: ./ruleset/google.yaml

  proxy:
    # ä»£ç†åŸŸååˆ—è¡¨
    <<: *rule_update
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/proxy.txt"
    path: ./ruleset/proxy.yaml

  direct:
    # ç›´è¿åŸŸååˆ—è¡¨
    <<: *rule_update
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/direct.txt"
    path: ./ruleset/direct.yaml

  private:
    # ç§æœ‰ç½‘ç»œä¸“ç”¨åŸŸååˆ—è¡¨
    <<: *rule_update
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/private.txt"
    path: ./ruleset/private.yaml

  gfw:
    # GFWList åŸŸååˆ—è¡¨
    <<: *rule_update
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/gfw.txt"
    path: ./ruleset/gfw.yaml

  greatfire:
    # GreatFire åŸŸååˆ—è¡¨
    <<: *rule_update
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/greatfire.txt"
    path: ./ruleset/greatfire.yaml

  tld-not-cn:
    # éä¸­å›½å¤§é™†ä½¿ç”¨çš„é¡¶çº§åŸŸååˆ—è¡¨
    <<: *rule_update
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/tld-not-cn.txt"
    path: ./ruleset/tld-not-cn.yaml

  telegramcidr:
    # Telegram ä½¿ç”¨çš„ IP åœ°å€åˆ—è¡¨
    <<: *rule_update
    behavior: ipcidr
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/telegramcidr.txt"
    path: ./ruleset/telegramcidr.yaml

  cncidr:
    # ä¸­å›½å¤§é™† IP åœ°å€åˆ—è¡¨
    <<: *rule_update
    behavior: ipcidr
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/cncidr.txt"
    path: ./ruleset/cncidr.yaml

  lancidr:
    # å±€åŸŸç½‘ IP åŠä¿ç•™ IP åœ°å€åˆ—è¡¨
    <<: *rule_update
    behavior: ipcidr
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/lancidr.txt"
    path: ./ruleset/lancidr.yaml

  applications:
    # éœ€è¦ç›´è¿çš„å¸¸è§è½¯ä»¶åˆ—è¡¨
    <<: *rule_update
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/applications.txt"
    path: ./ruleset/applications.yaml

# åˆ†æµè§„åˆ™
rules:
  # å¹¿å‘Šè§„åˆ™
  - AND,(AND,(DST-PORT,443),(NETWORK,UDP)),(NOT,((GEOSITE,cn))),REJECT # ç¦ç”¨quic(ä¸åŒ…æ‹¬å›½å†…)
  - RULE-SET,ç§‹é£å¹¿å‘Šè§„åˆ™,REJECT
  - AND,((PROCESS-NAME,clashMeta),(NETWORK,UDP)),REJECT


  # å›½å†…åœ°å€
  - DOMAIN-SUFFIX,cnki.net,å›½å†…åœ°å€
  - DOMAIN-SUFFIX,ieee.org,å›½å†…åœ°å€
  - DOMAIN-SUFFIX,acm.org,å›½å†…åœ°å€
  - DOMAIN-SUFFIX,imgtu.com,å›½å†…åœ°å€
  - DOMAIN-SUFFIX,dpdk.org,å›½å†…åœ°å€
  - DOMAIN-SUFFIX,freenom.com,å›½å†…åœ°å€
  - DOMAIN-SUFFIX,sciencedirect.com,å›½å†…åœ°å€
  - DOMAIN-SUFFIX,springer.com,å›½å†…åœ°å€

  - DOMAIN,clash.razord.top,å›½å†…åœ°å€
  - DOMAIN,yacd.haishan.me,å›½å†…åœ°å€

  
  # - GEOSITE,geolocation-cn,å›½å†…åœ°å€
  - RULE-SET,icloud,å›½å†…åœ°å€
  - RULE-SET,apple,å›½å†…åœ°å€
  - RULE-SET,applications,å›½å†…åœ°å€
  - RULE-SET,cncidr,å›½å†…åœ°å€
  - RULE-SET,direct,å›½å†…åœ°å€
  - RULE-SET,private,å›½å†…åœ°å€
  - RULE-SET,lancidr,å›½å†…åœ°å€
  - GEOIP,private,å›½å†…åœ°å€
  - GEOIP,CN,å›½å†…åœ°å€
  - GEOSITE,cn,å›½å†…åœ°å€


  # å›½å¤–åœ°å€
  # - GEOIP,!CN,ä»£ç†è®¾ç½®
  # - GEOSITE,cn,å›½å†…åœ°å€
  # - GEOIP,CN,å›½å†…åœ°å€
  - MATCH,ä»£ç†è®¾ç½®


